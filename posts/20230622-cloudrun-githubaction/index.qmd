---
title: "Secure continuous deployment with Github action for Google Cloud Run"
author: "ZZ Si"
date: "2023-06-22"
categories: [code, mlops, cloud]
# image: "image.jpg"
---

Deploying ML models and other python apps to cloud can be tedious. Compute instances need to be provisioned; networking needs to be sorted out; autoscaling needs to be configured; secrets and credentials need to be safely managed.

I do not want to spend even a minute on any of above, because I would like to focus on recipes that produce the best models and make them available for people to use. After years and many projects, I found Google Cloud Run to be a low maintainence solution, with CI/CD managed by Github Action. Similar solutions can be had with AWS ECS and Azure Container Instances. But this post focus on Cloud Run.

## Prerequisites

- Docker
- [Google Cloud SDK](https://cloud.google.com/sdk/docs/install)

## Sample app

```
docker run -it -p 801:801 -e PORT=801 httpd:2.4
```

Cloud Run requires your app in the docker image to use the `PORT` environment variable to determine which port the app listens to.